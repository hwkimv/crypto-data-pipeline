# í”„ë¡œì íŠ¸ êµ¬ì¡° ê°€ì´ë“œ

## ğŸ“‚ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
crypto-data-pipeline/
â”œâ”€â”€ src/                        # í•µì‹¬ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ data_collector.py      # ë°”ì´ë‚¸ìŠ¤ ë°ì´í„° ìˆ˜ì§‘ê¸°
â”‚   â”œâ”€â”€ indicators.py           # ê¸°ìˆ  ì§€í‘œ ê³„ì‚°
â”‚   â””â”€â”€ pipeline.py             # ë°ì´í„° ìˆ˜ì§‘ + ì§€í‘œ ê³„ì‚° íŒŒì´í”„ë¼ì¸
â”‚
â”œâ”€â”€ scripts/                    # ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ test_binance_connection.py  # API ì—°ê²° í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ monthly_data_saver.py       # ì›” ë‹¨ìœ„ ë°ì´í„° ì €ì¥
â”‚   â”œâ”€â”€ save_all_historical_data.py # ì „ì²´ ê³¼ê±° ë°ì´í„° ì €ì¥
â”‚   â””â”€â”€ check_saved_data.py         # ì €ì¥ëœ ë°ì´í„° í™•ì¸
â”‚
â”œâ”€â”€ data/                       # ë°ì´í„° ì €ì¥ì†Œ
â”‚   â”œâ”€â”€ csv/                    # CSV í˜•ì‹ ë°ì´í„°
â”‚   â”‚   â””â”€â”€ BTC_USDT_YYYY_MM_1m.csv
â”‚   â””â”€â”€ parquet/                # Parquet í˜•ì‹ ë°ì´í„°
â”‚       â””â”€â”€ BTC_USDT_YYYY_MM_1m.parquet
â”‚
â”œâ”€â”€ docs/                       # ë¬¸ì„œ
â”‚   â””â”€â”€ UTC_ë‹¨ì¼_ì €ì¥_ì™„ë£Œ.md
â”‚
â”œâ”€â”€ README.md                   # ì˜ë¬¸ README
â”œâ”€â”€ README_KO.md                # í•œê¸€ README
â””â”€â”€ requirements.txt            # í•„ìˆ˜ íŒ¨í‚¤ì§€
```

## ğŸ“– ëª¨ë“ˆ ì„¤ëª…

### src/ - í•µì‹¬ ëª¨ë“ˆ

#### `data_collector.py`
ë°”ì´ë‚¸ìŠ¤ APIë¥¼ ì‚¬ìš©í•œ ë°ì´í„° ìˆ˜ì§‘

**ì£¼ìš” í´ë˜ìŠ¤:**
- `DataCollector`: OHLCV ë°ì´í„° ìˆ˜ì§‘ ë° ê²€ì¦

**ì£¼ìš” ë©”ì„œë“œ:**
- `fetch_ohlcv()`: ìµœëŒ€ 1000ê°œ ìº”ë“¤ ìˆ˜ì§‘
- `fetch_all_historical_data()`: ì „ì²´ ê¸°ê°„ ë°ì´í„° ìˆ˜ì§‘
- `validate_data()`: ë°ì´í„° ìœ íš¨ì„± ê²€ì¦

#### `indicators.py`
ê¸°ìˆ ì  ë¶„ì„ ì§€í‘œ ê³„ì‚°

**ì£¼ìš” í´ë˜ìŠ¤:**
- `TechnicalIndicators`: ê¸°ìˆ  ì§€í‘œ ê³„ì‚° (ì •ì  ë©”ì„œë“œ)

**ì œê³µ ì§€í‘œ:**
- EMA (ì§€ìˆ˜ ì´ë™ í‰ê· ): 12, 26, 50, 200
- MACD (ì´ë™ í‰ê·  ìˆ˜ë ´ í™•ì‚°)
- RSI (ìƒëŒ€ ê°•ë„ ì§€ìˆ˜)
- ë³¼ë¦°ì € ë°´ë“œ

#### `pipeline.py`
ë°ì´í„° ìˆ˜ì§‘ + ì§€í‘œ ê³„ì‚° í†µí•© íŒŒì´í”„ë¼ì¸

**ì£¼ìš” í´ë˜ìŠ¤:**
- `CryptoDataPipeline`: ì „ì²´ í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬

**ì‹¤í–‰ ìˆœì„œ:**
1. ë°ì´í„° ìˆ˜ì§‘
2. ë°ì´í„° ê²€ì¦
3. ê¸°ìˆ  ì§€í‘œ ê³„ì‚°
4. CSV ì €ì¥

### scripts/ - ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸

#### `test_binance_connection.py`
ë°”ì´ë‚¸ìŠ¤ API ì—°ê²° í…ŒìŠ¤íŠ¸

**ê¸°ëŠ¥:**
- ìµœê·¼ 10ê°œ ìº”ë“¤ ìˆ˜ì§‘
- ë°ì´í„° ê²€ì¦
- ì—°ê²° ìƒíƒœ í™•ì¸

**ì‹¤í–‰:**
```bash
python scripts/test_binance_connection.py
```

#### `monthly_data_saver.py`
ì›” ë‹¨ìœ„ ë°ì´í„° ì €ì¥

**ì£¼ìš” í´ë˜ìŠ¤:**
- `MonthlyDataSaver`: ì›”ë³„ ë°ì´í„° ê´€ë¦¬

**ì£¼ìš” ë©”ì„œë“œ:**
- `save_month_data()`: íŠ¹ì • ì›” ë°ì´í„° ì €ì¥
- `save_multiple_months()`: ì—¬ëŸ¬ ì›” ì¼ê´„ ì €ì¥
- `get_month_range()`: ì›” ì‹œì‘/ì¢…ë£Œ ì‹œê°„ ê³„ì‚°

**ì‹¤í–‰:**
```bash
python scripts/monthly_data_saver.py
```

**ì½”ë“œ ì˜ˆì‹œ:**
```python
from scripts.monthly_data_saver import MonthlyDataSaver

saver = MonthlyDataSaver(symbol='BTC/USDT', timeframe='1m')
saver.save_month_data(2024, 12)  # 2024ë…„ 12ì›”
```

#### `save_all_historical_data.py`
ì „ì²´ ê³¼ê±° ë°ì´í„° ì¼ê´„ ì €ì¥

**ê¸°ëŠ¥:**
- 2017ë…„ 8ì›” ~ í˜„ì¬ê¹Œì§€ ëª¨ë“  ë°ì´í„°
- ìµœê·¼ 1ë…„, 2ë…„ ë°ì´í„°
- íŠ¹ì • ê¸°ê°„ ì§€ì •

**ì‹¤í–‰:**
```bash
python scripts/save_all_historical_data.py
```

#### `check_saved_data.py`
ì €ì¥ëœ ë°ì´í„° í™•ì¸

**ê¸°ëŠ¥:**
- CSV/Parquet íŒŒì¼ ì½ê¸°
- ë°ì´í„° ë¬´ê²°ì„± í™•ì¸
- í†µê³„ ì •ë³´ ì¶œë ¥

**ì‹¤í–‰:**
```bash
python scripts/check_saved_data.py
```

## ğŸ”„ ë°ì´í„° íë¦„

```
ë°”ì´ë‚¸ìŠ¤ API
    â†“
DataCollector (src/data_collector.py)
    â†“
ë°ì´í„° ê²€ì¦
    â†“
TechnicalIndicators (src/indicators.py) [ì˜µì…˜]
    â†“
CSV/Parquet ì €ì¥ (data/)
    â†“
check_saved_data.pyë¡œ í™•ì¸
```

## ğŸ’¾ ë°ì´í„° ì €ì¥ í˜•ì‹

### íŒŒì¼ëª… ê·œì¹™
```
{SYMBOL}_{YEAR}_{MONTH}_{TIMEFRAME}.{FORMAT}
ì˜ˆ: BTC_USDT_2024_12_1m.csv
```

### ì €ì¥ ê²½ë¡œ
- **CSV**: `data/csv/BTC_USDT_2024_12_1m.csv`
- **Parquet**: `data/parquet/BTC_USDT_2024_12_1m.parquet`

### ì»¬ëŸ¼ êµ¬ì¡°
```
timestamp,open,high,low,close,volume
2024-12-01 00:00:00,96407.99,96462.65,96403.2,96403.21,6.592
```

## ğŸš€ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

### 1. ë°”ì´ë‚¸ìŠ¤ ì—°ê²° í™•ì¸
```bash
python scripts/test_binance_connection.py
```

### 2. íŠ¹ì • ì›” ë°ì´í„° ìˆ˜ì§‘
```bash
python scripts/monthly_data_saver.py
# ë˜ëŠ” ì½”ë“œë¡œ
python -c "from scripts.monthly_data_saver import MonthlyDataSaver; MonthlyDataSaver().save_month_data(2024, 12)"
```

### 3. ì „ì²´ ë°ì´í„° ìˆ˜ì§‘
```bash
python scripts/save_all_historical_data.py
# ì˜µì…˜ ì„ íƒ: 1. ì „ì²´ / 2. ìµœê·¼ 1ë…„ / 3. ìµœê·¼ 2ë…„ / 4. íŠ¹ì • ê¸°ê°„
```

### 4. ë°ì´í„° + ì§€í‘œ ê³„ì‚°
```bash
python src/pipeline.py --start-date 2024-01-01 --end-date 2024-12-31
```

### 5. ì €ì¥ëœ ë°ì´í„° í™•ì¸
```bash
python scripts/check_saved_data.py
```

## ğŸ“ import ê²½ë¡œ

### src ëª¨ë“ˆ import
```python
from src.data_collector import DataCollector
from src.indicators import TechnicalIndicators
from src.pipeline import CryptoDataPipeline
```

### scripts import (scripts ë‚´ë¶€ì—ì„œ)
```python
from scripts.monthly_data_saver import MonthlyDataSaver
```

### í”„ë¡œì íŠ¸ ë£¨íŠ¸ ê²½ë¡œ
```python
from pathlib import Path
project_root = Path(__file__).parent.parent
```

## ğŸ”§ í™•ì¥ ê°€ëŠ¥ì„±

### ë‹¤ë¥¸ ê±°ë˜ìŒ ì¶”ê°€
```python
saver = MonthlyDataSaver(symbol='ETH/USDT', timeframe='1m')
```

### ë‹¤ë¥¸ íƒ€ì„í”„ë ˆì„ ì‚¬ìš©
```python
saver = MonthlyDataSaver(symbol='BTC/USDT', timeframe='5m')
# 1m, 5m, 15m, 30m, 1h, 4h, 1d ë“±
```

### ì»¤ìŠ¤í…€ ë°ì´í„° ê²½ë¡œ
```python
saver = MonthlyDataSaver(data_dir='/custom/path/data')
```

## ğŸ“Š ì„±ëŠ¥

- **CSV íŒŒì¼ í¬ê¸°**: ì•½ 2.8 MB/ì›” (44,640 ìº”ë“¤)
- **Parquet íŒŒì¼ í¬ê¸°**: ì•½ 1.85 MB/ì›” (34% ì••ì¶•)
- **ìˆ˜ì§‘ ì†ë„**: ì•½ 10,000 ìº”ë“¤/ì´ˆ
- **API ì œí•œ**: ìë™ ì²˜ë¦¬ (0.5ì´ˆ ëŒ€ê¸°)

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **íƒ€ì„ì¡´**: ëª¨ë“  íƒ€ì„ìŠ¤íƒ¬í”„ëŠ” UTC ê¸°ì¤€
2. **ì›” ê²½ê³„**: UTC ê¸°ì¤€ ì›” ì‹œì‘/ì¢…ë£Œ
3. **API ì œí•œ**: ìë™ìœ¼ë¡œ ì²˜ë¦¬ë˜ì§€ë§Œ ê³¼ë„í•œ ìš”ì²­ ì£¼ì˜
4. **ë°ì´í„° í¬ê¸°**: ì „ì²´ ë°ì´í„°(2017~í˜„ì¬)ëŠ” ì•½ 200GB

